This is a version of SLURM simulator's code improved and ported to SLURM 17.11 at Barcelona Supercomputing Center by Ana Jokanovic and Marco D'Amico. The reference paper on the simulator's validation is un
der review process.
The starting point for the improvements was the simulator's version by Gonzalo Rodrigo from Umea University & Berkley Lab reported in the paper https://link.springer.com/chapter/10.1007/978-3-319-77398-8\_9.

COMPILATION:
The code is tested on MareNostrum4 machine after being compiled with gcc 7.2.0 compiler.
Install and compile the code using installi\_slurm\_sim.sh script, it calls compile\_and\_install\_slurm.sh.

Simulator's source code is under slurm directory.
SLURM daemons' binaries will be installed in install/slurm\_programs/sbin.
SLURM and SLURM simulator's binaries will be installed in install/slurm\_programs/bin.

CONFIGURATION:
Before you start the simulation make sure you change in the files all the bsc33882 to your account.
Configuration file template is under install/slurm\_conf/slurm.conf.template; here you should set your configuration.
Also, in slurm\_conf/user.sim file make sure all the users are set to correct ids (check: id -u username).

LAUNCHING SIMULATOR:
submit\_serial\_simulation.sh is a script to submit the simulator for execution within a job on MareNostrum4 machine with SLURM job scheduler (adapt it for your machine).
The simulation is started by:

sbatch submit\_serial\_simulation.sh 0 ../trace\_name

INPUTS:
cirne.3456n.maxjob128n.anl.5k.1.1.sim is a big input trace example of 5000 jobs generated by CIRNE model for the system of 3456 nodes, max job size 128 nodes.
cirne.10n.maxjob8n.anl.200.arrin10min.jobcomp.sim is a small input trace example of 200 jobs generated by CIRNE model for the system of 10 nodes, max job size 8 nodes.

OUTPUTS:
Job completion log will be under simulation\_$JOBID/TRACES/trace.test.$JOBID.
SLURM daemons'logs, if enabled in slurm.conf, will be under slurm\_varios/log/.
